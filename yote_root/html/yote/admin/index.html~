<html>
  <head>
<title>Yote Admin</title>

<script src="/yote/js/jquery-latest.js"></script>
<script src="/yote/js/jquery.cookie.js"></script>
<script src="/yote/js/jquery.dumper.js"></script>
<script src="/yote/js/jquery.base64.min.js"></script>
<script src="/yote/js/json2.js"></script>
<script src="/yote/js/yote.js"></script>
<script src="/yote/js/yote.util.js"></script>

<script>
$().ready(function(){
    var root = $.yote.fetch_root();
    function show_fields( attachpoint, obj, path ) {
	$( attachpoint ).empty();
	for( var fld in obj._d ) {
	    var val = obj._d[fld];
	    var fldbox = '<input type=text id=f_'+obj.id+'_'+fld+' value="' + val + '">';
	    if( val * 1 > 0 ) {
		var modpath = path;
		modpath = modpath.replace( /\//, '-' );
		alert( modpath );
		$( attachpoint ).append( fld + " : <a href='#' id='" + modpath + '-' + fld + "'>" + val + "</a><BR>" );

		$( '#' + modpath + '-' + fld ).click( (function(pth) {
		    return function() {
			alert( pth );
			show_path( pth );
		    }  }) ( path + '/' + fld ) );

	    } else {
		$( attachpoint ).append( fld + " : " + val + "<BR>" );
	    }
	}
    }
    function show_path( path ) {
	console.dir( root );
	var path_obj = path == '/' ? root : root.fetch( path );
	$('#pathdiv').empty();
	$('#pathdiv').append('Path : ' + path + '<br/><br/><h3>Fields</h3><blockquote id=fields></blockquote' );
	show_fields( '#fields', path_obj, path );
    } //show_path
    show_path( '/' );
});
</script>

</head>

<body>

<h1>Yote Admin</h1>

<div id=pathdiv>
</div>
<!--
  This takes a path, then presents that object for editing.
  It starts at /
-->



</body>
</html>
